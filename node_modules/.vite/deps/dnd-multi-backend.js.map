{
  "version": 3,
  "sources": ["../../dnd-multi-backend/dist/index.js"],
  "sourcesContent": ["var E=r=>{throw TypeError(r)};var P=(r,n,e)=>n.has(r)||E(\"Cannot \"+e);var t=(r,n,e)=>(P(r,n,\"read from private field\"),e?e.call(r):n.get(r)),s=(r,n,e)=>n.has(r)?E(\"Cannot add the same private member more than once\"):n instanceof WeakSet?n.add(r):n.set(r,e),p=(r,n,e,i)=>(P(r,n,\"write to private field\"),i?i.call(r,e):n.set(r,e),e);var h,B=class{constructor(){s(this,h);this.register=n=>{t(this,h).push(n)};this.unregister=n=>{for(;t(this,h).indexOf(n)!==-1;)t(this,h).splice(t(this,h).indexOf(n),1)};this.backendChanged=n=>{for(let e of t(this,h))e.backendChanged(n)};p(this,h,[])}};h=new WeakMap;var c,l,a,d,k,x,T,D,m,v,f,w=class w{constructor(n,e,i){s(this,c);s(this,l);s(this,a);s(this,d);s(this,k);s(this,x,(n,e,i)=>{if(!i.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(i)}`);let u=i.backend(n,e,i.options),o=i.id,g=!i.id&&u&&u.constructor;if(g&&(o=u.constructor.name),!o)throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(i)}\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(g&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.\n        This might be unsupported in the future, please specify 'id' explicitely for every backend.`),t(this,a)[o])throw new Error(`You must specify a unique 'id' property in your Backend entry:\n        ${JSON.stringify(i)} (conflicts with: ${JSON.stringify(t(this,a)[o])})`);return{id:o,instance:u,preview:i.preview??!1,transition:i.transition,skipDispatchOnTransition:i.skipDispatchOnTransition??!1}});this.setup=()=>{if(!(typeof window>\"u\")){if(w.isSetUp)throw new Error(\"Cannot have two MultiBackends at the same time.\");w.isSetUp=!0,t(this,T).call(this,window),t(this,a)[t(this,c)].instance.setup()}};this.teardown=()=>{typeof window>\"u\"||(w.isSetUp=!1,t(this,D).call(this,window),t(this,a)[t(this,c)].instance.teardown())};this.connectDragSource=(n,e,i)=>t(this,f).call(this,\"connectDragSource\",n,e,i);this.connectDragPreview=(n,e,i)=>t(this,f).call(this,\"connectDragPreview\",n,e,i);this.connectDropTarget=(n,e,i)=>t(this,f).call(this,\"connectDropTarget\",n,e,i);this.profile=()=>t(this,a)[t(this,c)].instance.profile();this.previewEnabled=()=>t(this,a)[t(this,c)].preview;this.previewsList=()=>t(this,l);this.backendsList=()=>t(this,d);s(this,T,n=>{for(let e of t(this,d))e.transition&&n.addEventListener(e.transition.event,t(this,m))});s(this,D,n=>{for(let e of t(this,d))e.transition&&n.removeEventListener(e.transition.event,t(this,m))});s(this,m,n=>{let e=t(this,c);if(t(this,d).some(i=>i.id!==t(this,c)&&i.transition&&i.transition.check(n)?(p(this,c,i.id),!0):!1),t(this,c)!==e){t(this,a)[e].instance.teardown();for(let[g,b]of Object.entries(t(this,k)))b.unsubscribe(),b.unsubscribe=t(this,v).call(this,b.func,...b.args);t(this,l).backendChanged(this);let i=t(this,a)[t(this,c)];if(i.instance.setup(),i.skipDispatchOnTransition)return;let u=n.constructor,o=new u(n.type,n);n.target?.dispatchEvent(o)}});s(this,v,(n,e,i,u)=>t(this,a)[t(this,c)].instance[n](e,i,u));s(this,f,(n,e,i,u)=>{let o=`${n}_${e}`,g=t(this,v).call(this,n,e,i,u);return t(this,k)[o]={func:n,args:[e,i,u],unsubscribe:g},()=>{t(this,k)[o].unsubscribe(),delete t(this,k)[o]}});if(!i||!i.backends||i.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);p(this,l,new B),p(this,a,{}),p(this,d,[]);for(let u of i.backends){let o=t(this,x).call(this,n,e,u);t(this,a)[o.id]=o,t(this,d).push(o)}p(this,c,t(this,d)[0].id),p(this,k,{})}};c=new WeakMap,l=new WeakMap,a=new WeakMap,d=new WeakMap,k=new WeakMap,x=new WeakMap,T=new WeakMap,D=new WeakMap,m=new WeakMap,v=new WeakMap,f=new WeakMap,w.isSetUp=!1;var M=w;var S=(r,n,e)=>new M(r,n,e);var y=(r,n)=>({event:r,check:n});var L=y(\"touchstart\",r=>{let n=r;return n.touches!==null&&n.touches!==void 0}),O=y(\"dragstart\",r=>r.type.indexOf(\"drag\")!==-1||r.type.indexOf(\"drop\")!==-1),C=y(\"mousedown\",r=>r.type.indexOf(\"touch\")===-1&&r.type.indexOf(\"mouse\")!==-1),U=y(\"pointerdown\",r=>r.pointerType===\"mouse\");export{O as HTML5DragTransition,C as MouseTransition,S as MultiBackend,U as PointerTransition,L as TouchTransition,y as createTransition};\n"],
  "mappings": "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",
  "names": ["w", "n", "e", "i"]
}
